#!/usr/bin/env node

let program = require('commander');
let preview = require('../lib/preview');
let build   = require('../lib/build');
let create  = require('../lib/create');

program.version('0.0.1');

// help
program
    .command('help')
    .description('显示使用帮助')
    .action(() => {
        program.outputHelp();
    });

// init blog
program
    .command('init [dir]')
    .description('创建一个新的博客')
    .action(create);

// server
program
    .command('server [dir]')
    .description('实时预览')
    .action(preview);

// build
program
    .command('build [dir]')
    .description('生成静态HTML')
    .option('-o, --output <dir>', '生成静态HTML存放目录')
    .action(build);

// 解析命令
program.parse(process.argv);
